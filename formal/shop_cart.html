<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="" href="../css/L-shop_cart.css">
    <link rel="stylesheet" type="" href="../css/L-footer.css">
    <link rel="stylesheet" type="" href="../css/L-header.css">
    <!-- <script src="https://cdn.bootcss.com/less.js/2.7.3/less.min.js"></script> -->
    <title>Document</title>
</head>

<body>
    <div id="fixdheader">
        <div class="fixdheader-content">
            <div class="left">
                <p>尚为商城欢迎您，
                    <a href="login.html">登录/注册</a>
                </p>
            </div>
            <div class="right">
                    <ul>
                            <a href="user.html"><li>用户中心</li></a>
                           <a href=""><li>我的足迹</li></a> 
                           <a href=""><li>联系客服</li></a> 
                           <a href=""><li>帮助中心</li></a> 
                        </ul>
            </div>
        </div>
    </div>
    <header >
        <section class="header-top clearfix">
            <div class="logo">
                    <a class="logoimg" href="index.html"> <img src="../images/logo.png" alt=""></a>
                    <p>
                    <br> 我们只想伴你走过一段温柔的时光，
                    <br> 不疏不离，不舍不弃。
                    <br> 小小酒杯载不动山高水长，殷殷里飘起缕缕牵肠的欲说还休。
                </p>
            </div>
            <div class="search">
                <div class="search-input">
                    <input type="text" placeholder="请输入您想要的商品">
                    <input type="button" value="搜索" name="search">
                    <div class="search-keyword">
                        <ul>
                            <li>红酒杯</li>
                            <li>白酒杯</li>
                            <li>啤酒杯</li>
                            <li> 酒壶 </li>
                            <li>开酒器</li>
                            <li>酒具套装</li>
                        </ul>
                    </div>
                </div>
                <a class="shop_cart" href="shop_cart.html"> <div class="shoppingcar clearfix">
                        <p class="carimg"></p>
                        <span>6</span>
                        <p>购物车</p>
                    </div>
                </a>

            </div>
        </section>
  
        <section class="header-bottom ">
                <ul class="one">
                    <li style="background-color:#101113; color: #fff;">全部商品分类<span class="trigonBottom"></span>
                        <ul class="title-ul">
                            <li><a href="#">红酒杯</a></li>
                            <li><a href="#">白酒杯</a></li>
                            <li><a href="#">啤酒杯</a></li>
                            <li><a href="#"> 酒壶 </a></li>
                            <li><a href="#">开酒器</a></li>
                            <li><a href="#" class="special">酒具套装</a></li>
                         </ul>
                    </li>
                </ul>
                    <ul class="two">
                    <li><a href="#" style="color: #ff0000">首页</a><span class="trigonTopnodisplay"></span></li>
                    <li><a href="#">玻璃材质</a><span></span></li>
                    <li><a href="#">金属材质</a><span></span></li>
                    <li><a href="#">陶瓷材质</a><span></span></li>
                    <li><a href="#">酒具套装</a><span></span></li>
                    <li><a href="#">个性定制</a><span></span></li>
                </ul>
            </section>
      </div>
    </header>  
    <div class="content clearfix"> 
     <div class="title clearfix">
         <ul>
             <li>当前位置：</li>
             <li><a href="index.html">首页</a><span>></span></li>
             <li>我的购物车</li>
         </ul>
     </div>
          <div class="shop_cart">
              <table>
                  <tr>
                      <th> <div  class="qx"><span ></span><input type="checkbox"></div>全选</th>
                      <th>商品信息</th>
                      <th>单价</th>
                      <th>数量</th>
                      <th>总价</th>
                      <th>操作</th>
                  </tr>
                  <tbody class="shop-list-goods">
                  <tr>  
                      <td>
                        <div class="checkbox"><span ></span> <input type="checkbox"></div>
                      </td>
                      <td class="goodsMessage clearfix">
                        <span> <img src="../images/shop_cart_01.png" alt=""></span>
                            <dl>莱美斯高端水晶玻璃红酒杯，高脚杯
                                    <dd>1号杯  450ML </dd>
                                    <dd>  单只包装  升级版</dd>
                                </dl>
                            </td>
                      <td class="price"><em>￥</em><span>66.00</span></td>
                      <td>
                          <div class="num">
                              <button class="reduce">-</button><input type="text" value="1"><button class="add">+</button>
                          </div>
                      </td>
                      <td>￥66.00</td>
                      <td class="del">删除</td>
                  </tr>
                  <tr>  
                        <td>
                            <div class="checkbox"><span ></span> <input type="checkbox"></div>
                        </td>
                        <td class="goodsMessage clearfix">
                          <span> <img src="../images/shop_cart_01.png" alt=""></span>
                              <dl>莱美斯高端水晶玻璃红酒杯，高脚杯
                                      <dd>1号杯  450ML </dd>
                                      <dd>  单只包装  升级版</dd>
                                  </dl>
                              </td>
                        <td class="price"><em>￥</em><span>66.00</span></td>
                        <td>
                            <div class="num">
                                    <button class="reduce">-</button><input type="text" value="1"><button class="add">+</button>
                            </div>
                        </td>
                        <td>￥66.00</td>
                        <td class="del">删除</td>
                    </tr>
                    <tr>  
                            <td>
                                <div class="checkbox"><span ></span> <input type="checkbox"></div>
                            </td>
                            <td class="goodsMessage clearfix">
                              <span> <img src="../images/shop_cart_01.png" alt=""></span>
                                  <dl>莱美斯高端水晶玻璃红酒杯，高脚杯
                                          <dd>1号杯  450ML </dd>
                                          <dd>  单只包装  升级版</dd>
                                      </dl>
                                  </td>
                            <td class="price"><em>￥</em><span>66.00</span></td>
                            <td>
                                <div class="num">
                                    <button class="reduce">-</button><input type="text" value="1"><button class="add">+</button>
                                </div>
                            </td>
                            <td>￥66.00</td>
                            <td class="del">删除</td>
                        </tr>
                        <tr>  
                                <td>
                                    <div class="checkbox"><span ></span> <input type="checkbox"></div>
                                </td>
                                <td class="goodsMessage clearfix">
                                  <span> <img src="../images/shop_cart_01.png" alt=""></span>
                                      <dl>莱美斯高端水晶玻璃红酒杯，高脚杯
                                              <dd>1号杯  450ML </dd>
                                              <dd>  单只包装  升级版</dd>
                                          </dl>
                                      </td>
                                <td class="price"><em>￥</em><span>132.00</span></td>
                                <td>
                                    <div class="num">
                                        <button class="reduce">-</button><input type="text" value="1"><button class="add">+</button>
                                    </div>
                                </td>
                                <td>￥66.00</td>
                                <td class="del">删除</td>
                            </tr>
                        </tbody>
              </table>
              <div class="balance">
                  <ul>
                      <li>    <div class="qx"><span></span><input type="checkbox"></div>全选</li>
                      <li class="delAll">全部删除</li>
                      <li>加入收藏夹</li>
                    <div class="right">
                      <li class="goodsNum">已选择<span>0</span>件商品</li>
                      <li class="priceSum">合计<em>￥</em><span>0.00</span></li>
                          <li><a class="pay" href="pay.html"><button>结算</button> </a></li>
                      
                              
                    </div>
                  </ul>
              </div>
          </div>
        </div>
  
  
        <footer>
        <div class="footerone">
        <div class="first-footer  clearfix">
            <ul>
                <li>
                   <a href="#">
                        <p>100%品牌保证</p>  
                    </a>
                </li>
                <li> <a href="#">
                        <p>7天无理由退换</p>  
                    </a></li>
                <li> <a href="#">
                        <p>售后服务保障</p>  
                    </a></li>
            </ul>

        </div>
        <div class="second-footer clearfix">
                <dl>
                    <dt>购物指南</a></dt>
                    <dd><a href="#">常见问题</a></dd>
                    <dd><a href="#">免费注册</a></dd>
                    <dd><a href="#">导购演示</a></dd>
                    <dd><a href="#">品牌大全</a></dd>
                </dl>
                <dl>
                     <dt>支付方式</dt>
                     <dd><a href="#">支付宝支付</a></dd>
                     <dd><a href="#">网银支付</a></dd>
                     <dd><a href="#">快捷支付</a></dd>
                     <dd><a href="#">分期支付</a></dd>
                     <dd><a href="#">货到付款</a></dd>
                 </dl>
                 <dl>
                     <dt>物流配送</dt>
                     <dd><a href="#">免运费政策</a></dd>
                     <dd><a href="#">配送服务承诺</a></dd>
                     <dd><a href="#">签收验货</a></dd>
                     <dd><a href="#">物流查询</a></dd>
                     </dl>
                     <dl>
                     <dt>售后服务</dt>
                     <dd><a href="#">退换货政策</a></dd>
                     <dd><a href="#">退换货流程</a></dd>
                     <dd><a href="#">退款说明</a></dd>
                     <dd><a href="#">退换货申请</a></dd>
                     <dd><a href="#">发票保障</a></dd>
                   </dl>
                 <dl>
                    <dt>商家服务</dt>
                    <dd><a href="#">商家入驻</a></dd>
                    <dd><a href="#">商家中心</a></dd>
                    <dd><a href="#">商家帮助</a></dd>
                    <dd><a href="#">运营服务</a></dd>
                 </dl>
             </div>
    </div>
      <div class="footertwo">
        <div class="copyright">
          <p>湘公网安备 3305485457544515</p>
          <p>copyright @2017 Qanyan.biz.All rights.reserved</p>
        </div>
      </div>
    </footer>
</body>
<script src="https://cdn.bootcss.com/jquery/1.7.2/jquery.min.js"></script>
<script>
$(document).ready(function () {
    var num=0;              /* 判断单选框选中个数 */
    var number=1;          /* 商品数量 */
    var price=0;            /* 单价 */
    var priceSum=0;          /* 总价 */
    var all=0   /* 是否全選 */;
    function returnFloat(value){
    var value=Math.round(parseFloat(value)*100)/100;
    var xsd=value.toString().split(".");
  if(xsd.length==1){
 value=value.toString()+".00";
 return value;
 }
 if(xsd.length>1){
 if(xsd[1].length<2){
 value=value.toString()+"0";
 }
 return value;
 }
} /* 取有效数字 */
$('.num input').keydown(function (e) { 
    code=e.keyCode;
    if((code>57 || code<48) && (code>105 || code<96) && code!=8 && code!=116 && code!=13){
        return false;
    }
    console.log(e.keyCode)
 })
    $('.num input').change(function(){
        if($(this).val()<=0){
            number=1;
            $(this).val(1);
        }else{
            number=$(this).val();
        }
        nowPrice();  /* 获取目前选中的商品的价格 */
         priceEnd();
    })          /* 自定义输入商品数量 */
// function priceAdd(obj) { 
//     price=$(obj).parents('tr').children('.price').children('span').text();
//        return  priceSum+=price*number;
//  }           /* 價格增加 */

//  function priceReduce(obj) { 
//     price=$(obj).parents('tr').children('.price').children('span').text();
//     return  priceSum-=price*number;
//  }           /* 價格減少 */     
function nowPrice(){
    number=0;
    for(var i=0;i<$(".checkbox").length;i++){
                    if( $(".checkbox input").eq(i).prop('checked')){
                        priceSum+=$('.num input').eq(i).val()*$('.price span').eq(i).text();
                        number+=Number($('.num input').eq(i).val()) ;
                    } 
           
            }  /* 获取目前选中的商品的价格 */
            return priceSum;
}
function priceEnd() { 
    $('.priceSum span').text(returnFloat(priceSum)) /* 價格總計 */
        $('.goodsNum').children('span').text(number);   /* 已选商品数量 */

 }
    $(".checkbox").click(function(){
        priceSum=0;
        nowPrice();  /* 获取目前选中的商品的价格 */
        if( $(this).children('span').prop('class')){
            $(this).children('span').removeClass();
            num--;
        }else{
            $(this).children('span').addClass('shop_cart_choose');
           num++;
        }
        priceEnd();
        if(number==$(".checkbox").length){
            $('.qx').children('span').addClass('shop_cart_choose');
        }else{
            $('.qx').children('span').removeClass();
        } 
    })                             /* 单选 */
    $('.qx').click(function(){
        priceSum=0;
        number=$(this).prev().val();
        if( $('.qx').children('span').prop('class')){
            $(".checkbox").children('span').removeClass();
            $(".checkbox").children('input').prop('checked',false);
            $('.qx').children('span').removeClass();
            priceEnd();
        }else{
            $(".checkbox").children('span').addClass('shop_cart_choose');
            $('.qx').children('span').addClass('shop_cart_choose');
            $(".checkbox").children('input').prop('checked',true);
 
        }
        nowPrice();  /* 获取目前选中的商品的价格 */
         priceEnd();
        // console.log( num)
    })                     /* 全选 */
    $('.add').click(function () {
        priceSum=0;
        number= $(this).prev().val();         /* 获取当前输入框的val */
        ++number;
     $(this).prev().val(number);
        nowPrice();  /* 获取目前选中的商品的价格 */
         priceEnd();
      })
      $('.reduce').click(function () {
          priceSum=0;
        number= $(this).next().val();
        --number;
        if(number<=0){
            number=1;
        }else{
            $(this).next().val(number);
        }
         nowPrice();  /* 获取目前选中的商品的价格 */
         priceEnd();
      })                 /* + -商品个数 */

      $('.del').click(function(){
        priceSum=0;
         $(this).parent('tr').remove();
         nowPrice();  /* 获取目前选中的商品的价格 */
         priceEnd();
      })         /* 删除 */
      $('.delAll').click(function(){
        priceSum=0;
         $('.shop-list-goods>tr').remove();
         nowPrice();  /* 获取目前选中的商品的价格 */
         priceEnd();
      })     
// $('.price').html()
})
</script>

</html>